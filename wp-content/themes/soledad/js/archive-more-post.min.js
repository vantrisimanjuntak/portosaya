jQuery(function (c) {
    "use strict";

    function t(o) {
        var n, r, s, l, a, e, t, i;
        o.hasClass("loading-posts") || (n = o.data("layout"), r = o.data("number"), s = o.data("mes"), l = o.attr("data-offset"), o.data("exclude"), a = o.data("from"), e = o.data("template"), t = o.data("archivetype"), i = o.data("archivevalue"), o.addClass("loading-posts"), i = "offset=" + l + "&layout=" + n + "&from=" + a + "&template=" + e + "&ppp=" + r + "&archivetype=" + t + "&archivevalue=" + i + "&action=penci_archive_more_post_ajax&nonce=" + SOLEDADLOCALIZE.nonce, c.ajax({
            type: "POST", dataType: "html", url: SOLEDADLOCALIZE.url, data: i, success: function (a) {
                if (!a) return o.find(".ajax-more-text").text(s), o.find("i").remove(), o.removeClass("loading-posts"), setTimeout(function () {
                    o.parent().remove()
                }, 1200), !1;
                var e, t = parseInt(l) + r, i = o.parent().parent().find(".penci-wrapper-data");
                o.attr("data-offset", t), "masonry" === n || "masonry-2" === n ? (e = c(a), i.append(e).isotope("appended", e).imagesLoaded(function () {
                    i.isotope("layout")
                }), c(".container").fitVids(), c(".penci-wrapper-data .penci-owl-carousel-slider").each(function () {
                    var a = c(this), e = !1;
                    "rtl" === c("html").attr("dir") && (e = !0);
                    e = {
                        rtl: e,
                        loop: !0,
                        margin: 0,
                        items: 1,
                        navSpeed: 600,
                        lazyLoad: !0,
                        dotsSpeed: 600,
                        nav: !0,
                        dots: !1,
                        navText: ['<i class="penciicon-left-chevron"></i>', '<i class="penciicon-right-chevron"></i>'],
                        autoplay: !0,
                        autoplayTimeout: 5e3,
                        autoHeight: !0,
                        autoplayHoverPause: !0,
                        autoplaySpeed: 600
                    };
                    a.owlCarousel(e)
                }), c().easyPieChart && c(".penci-piechart").each(function () {
                    var n = c(this);
                    n.one("inview", function (a, e, t, i) {
                        var o = {
                            barColor: n.data("color"),
                            trackColor: n.data("trackcolor"),
                            scaleColor: !1,
                            lineWidth: n.data("thickness"),
                            size: n.data("size"),
                            animate: 1e3
                        };
                        n.easyPieChart(o)
                    })
                })) : (e = c(a), i.append(e), c(".container").fitVids(), c(".penci-wrapper-data .penci-owl-carousel-slider").each(function () {
                    var a = c(this), e = !1, t = !1;
                    "rtl" === c("html").attr("dir") && (t = !0), a.attr("data-lazy") && (e = !0);
                    var i = {
                        rtl: t,
                        loop: !0,
                        margin: 0,
                        items: 1,
                        navSpeed: 600,
                        dotsSpeed: 600,
                        lazyLoad: e,
                        nav: !0,
                        dots: !1,
                        navText: ['<i class="penciicon-left-chevron"></i>', '<i class="penciicon-right-chevron"></i>'],
                        autoplay: !0,
                        autoplayTimeout: 5e3,
                        autoHeight: !0,
                        autoplayHoverPause: !0,
                        autoplaySpeed: 600
                    };
                    a.imagesLoaded(function () {
                        a.owlCarousel(i)
                    }), a.on("changed.owl.carousel", function (a) {
                        //lazySizes.init()
                    })
                }), c().easyPieChart && c(".penci-piechart").each(function () {
                    var n = c(this);
                    n.one("inview", function (a, e, t, i) {
                        var o = {
                            barColor: n.data("color"),
                            trackColor: n.data("trackcolor"),
                            scaleColor: !1,
                            lineWidth: n.data("thickness"),
                            size: n.data("size"),
                            animate: 1e3
                        };
                        n.easyPieChart(o)
                    })
                }), a = c(".penci-post-gallery-container.justified"), e = c(".penci-post-gallery-container.masonry"), c().justifiedGallery && a.length && c(".penci-post-gallery-container.justified").each(function () {
                    var a = c(this);
                    a.justifiedGallery({
                        rowHeight: a.data("height"),
                        lastRow: "nojustify",
                        margins: a.data("margin"),
                        randomize: !1
                    })
                }), c().isotope && e.length && c(".penci-post-gallery-container.masonry .item-gallery-masonry").each(function () {
                    var a, e = c(this);
                    e.attr("title") && (a = e.attr("title"), e.children().append('<div class="caption">' + a + "</div>"))
                }), e.length && e.each(function () {
                    var a = c(this);
                    a.imagesLoaded(function () {
                        a.isotope({
                            itemSelector: ".item-gallery-masonry",
                            transitionDuration: ".55s",
                            layoutMode: "masonry"
                        }), a.addClass("loaded"), c(".penci-post-gallery-container.masonry .item-gallery-masonry").each(function () {
                            var o = c(this);
                            o.one("inview", function (a, e, t, i) {
                                o.addClass("animated")
                            })
                        })
                    })
                }), c().theiaStickySidebar && (e = 90, c("body").hasClass("admin-bar") && (e = 122), c("#main.penci-main-sticky-sidebar, #sidebar.penci-sticky-sidebar").theiaStickySidebar({additionalMarginTop: e}))), o.removeClass("loading-posts")
            }, error: function (a, e, t) {
                console.log(a + " :: " + e + " :: " + t)
            }
        }))
    }

    c(document).ready(function () {
        var a, e;
        c("body").on("click", ".penci-ajax-arch .penci-ajax-more-button", function (a) {
            a.preventDefault(), t(c(this))
        }), a = c(".penci-ajax-arch"), e = a.find(".penci-ajax-more-button"), a.hasClass("penci-infinite-scroll") && c(window).on("scroll", function () {
            e.offset().top + e.outerHeight() - c(window).height() < c(this).scrollTop() && e.length && t(e)
        }).trigger("scroll")
    })
});
